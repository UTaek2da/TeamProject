<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hanulso.mapper.ChartMapper">

	<select id="user_chart_list" resultType="com.hanulso.domain.ChartVO">
		SELECT TO_CHAR(regdate, 'yyyy-mm') as ddate , count(*) as userno
		FROM one_user where grade='ROLE_USER'
		GROUP BY TO_CHAR(regdate, 'yyyy-mm')
		order by ddate
	</select>
	
	<select id="member_chart_list" resultType="com.hanulso.domain.ChartVO">
		SELECT TO_CHAR(regdate, 'yyyy-mm') as ddate , count(*) as memberno
		FROM one_user where grade='ROLE_MEMBER'
		GROUP BY TO_CHAR(regdate, 'yyyy-mm')
		order by ddate
	</select>
	
	<select id="premium_chart_list" resultType="com.hanulso.domain.ChartVO">
		SELECT TO_CHAR(regdate , 'yyyy-mm') as ddate , count(*) as preno
		FROM one_premium
		GROUP BY TO_CHAR(regdate, 'yyyy-mm')
		order by ddate
	</select>

</mapper>
